<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>trajectory_analyzer &mdash; Materials Learning Algorithms (MALA)  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=33f2f6c7" />

  
    <link rel="shortcut icon" href="../_static/mala_favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datahandling" href="mala.datahandling.html" />
    <link rel="prev" title="ofdft_initializer" href="mala.datageneration.ofdft_initializer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/mala_horizontal_white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_usage.html">Getting started with MALA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_usage.html">Advanced options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing MALA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTE.html">Contributions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mala.html">mala</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mala.common.html">common</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="mala.datageneration.html">datageneration</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mala.datageneration.ofdft_initializer.html">ofdft_initializer</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">trajectory_analyzer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mala.datahandling.html">datahandling</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.descriptors.html">descriptors</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.interfaces.html">interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.network.html">network</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.targets.html">targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.version.html">version</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Materials Learning Algorithms (MALA)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">API reference</a></li>
          <li class="breadcrumb-item"><a href="mala.html">mala</a></li>
          <li class="breadcrumb-item"><a href="mala.datageneration.html">datageneration</a></li>
      <li class="breadcrumb-item active">trajectory_analyzer</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com//mala-project/mala/blob/develop/docs/source/api/mala.datageneration.trajectory_analyzer.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mala.datageneration.trajectory_analyzer">
<span id="trajectory-analyzer"></span><h1>trajectory_analyzer<a class="headerlink" href="#module-mala.datageneration.trajectory_analyzer" title="Link to this heading"></a></h1>
<p>Tools for analyzing a trajectory.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TrajectoryAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trajectory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperatures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_calculator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">malada_compatability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/datageneration/trajectory_analyzer.html#TrajectoryAnalyzer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides useful functions to analyze a trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters object used to create this instance.</p></li>
<li><p><strong>trajectory</strong> (<em>ase.io.Trajectory</em><em> or </em><em>string</em>) – Trajectory or path to trajectory to be analyzed.</p></li>
<li><p><strong>target_calculator</strong> (<a class="reference internal" href="mala.targets.target.html#mala.targets.target.Target" title="mala.targets.target.Target"><em>mala.targets.target.Target</em></a>) – A target calculator to calculate e.g. the RDF. If None is provided,
one will be generated ad-hoc (recommended).</p></li>
<li><p><strong>temperatures</strong> (<em>string</em><em> or </em><em>numpy.ndarray</em>) – Array holding the temperatures for the trajectory or path to numpy
file containing temperatures.</p></li>
<li><p><strong>target_temperature</strong> (<em>float</em>) – Target temperature for equilibration.</p></li>
<li><p><strong>malada_compatability</strong> (<em>bool</em>) – If True, twice the radius set by the minimum imaging convention (MIC)
will be used for RDF calculation. This is generally discouraged,
but some older malada calculations have been performed with it, so
this parameter provides reproducibility.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.parameters" title="Link to this definition"></a></dt>
<dd><p>MALA data generation parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.ParametersDataGeneration" title="mala.common.parameters.ParametersDataGeneration">mala.common.parameters.ParametersDataGeneration</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.average_distance_equilibrated">
<span class="sig-name descname"><span class="pre">average_distance_equilibrated</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.average_distance_equilibrated" title="Link to this definition"></a></dt>
<dd><p>Distance threshold for determination of first equilibrated snapshot.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.distance_metrics_denoised">
<span class="sig-name descname"><span class="pre">distance_metrics_denoised</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.distance_metrics_denoised" title="Link to this definition"></a></dt>
<dd><p>RDF based distance metrics used for equilibration analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.distances_realspace">
<span class="sig-name descname"><span class="pre">distances_realspace</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.distances_realspace" title="Link to this definition"></a></dt>
<dd><p>Realspace distance metrics used to sample snapshots.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.first_considered_snapshot">
<span class="sig-name descname"><span class="pre">first_considered_snapshot</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.first_considered_snapshot" title="Link to this definition"></a></dt>
<dd><p>First snapshot to be considered during equilibration analysis (i.e.,
after pruning).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.last_considered_snapshot">
<span class="sig-name descname"><span class="pre">last_considered_snapshot</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.last_considered_snapshot" title="Link to this definition"></a></dt>
<dd><p>Last snapshot to be considered during equilibration analysis (i.e.,
after pruning).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.target_calculator">
<span class="sig-name descname"><span class="pre">target_calculator</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.target_calculator" title="Link to this definition"></a></dt>
<dd><p>Target calculator used for computing RDFs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="mala.targets.target.html#mala.targets.target.Target" title="mala.targets.target.Target">mala.targets.target.Target</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_first_snapshot">
<span class="sig-name descname"><span class="pre">get_first_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equilibrated_snapshot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/datageneration/trajectory_analyzer.html#TrajectoryAnalyzer.get_first_snapshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_first_snapshot" title="Link to this definition"></a></dt>
<dd><p>Calculate distance metrics/first equilibrated timestep on a trajectory.</p>
<p>For this step, the RDF+Cosine distance will be used as a distance
metric. Only the first snapshot is return, all the other quantities
can be accessed as member variables of the object calling this
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>equilibrated_snapshot</strong> (<em>ase.Atoms</em>) – An equilibrated snapshot. Will usually be read from the trajectory
itself, but may be provided by the user if desired.</p></li>
<li><p><strong>distance_threshold</strong> (<em>float</em>) – Distance threshold to be used. Usually determined by analyzing
the end of the trajectory, but may be provided by user if
e.g. multiple trajectories are to be compared.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>first_snapshot</strong> – First snapshot for which the trajectory is equilibrated.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_snapshot_correlation_cutoff">
<span class="sig-name descname"><span class="pre">get_snapshot_correlation_cutoff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/datageneration/trajectory_analyzer.html#TrajectoryAnalyzer.get_snapshot_correlation_cutoff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_snapshot_correlation_cutoff" title="Link to this definition"></a></dt>
<dd><p>Determine the cutoff for the distance metric.</p>
<p>If a cutoff is set by the user via the Parameters object, this
function simply returns this value. Elsewise, the value
is determined numerically. The distance metric used here is realspace
(i.e. the smallest displacement of an atom between two snapshots). The
cutoff gives a lower estimate for the oscillations of the trajectory.
Any distance above this cutoff can be attributed to the oscillations
in the trajectory. Any cutoff below is the consquence of temporal
neighborhood of these snapshots.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cutoff</strong> – Cutoff below which two snapshots can be assumed to be similar
to each other to a degree that suggests temporal neighborhood.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_uncorrelated_snapshots">
<span class="sig-name descname"><span class="pre">get_uncorrelated_snapshots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename_uncorrelated_snapshots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/datageneration/trajectory_analyzer.html#TrajectoryAnalyzer.get_uncorrelated_snapshots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.get_uncorrelated_snapshots" title="Link to this definition"></a></dt>
<dd><p>Calculate a set of uncorrelated configurations from a trajectory.</p>
<p>If not priorly determined with the object calling this function, the
first equilibrated configuration will be determined automatically.
This function will create two files, one archiving the MD step number
of all snapshots sampled, and one with the actual snapshots themselves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename_uncorrelated_snapshots</strong> (<em>string</em>) – Name of the file in which to save the uncorrelated snapshots.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.uncache_properties">
<span class="sig-name descname"><span class="pre">uncache_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/datageneration/trajectory_analyzer.html#TrajectoryAnalyzer.uncache_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.uncache_properties" title="Link to this definition"></a></dt>
<dd><p>Uncache all cached properties of this calculator.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.first_snapshot">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first_snapshot</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.first_snapshot" title="Link to this definition"></a></dt>
<dd><p>First equilibrated snapshot.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.snapshot_correlation_cutoff">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">snapshot_correlation_cutoff</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.snapshot_correlation_cutoff" title="Link to this definition"></a></dt>
<dd><p>Cutoff for the snapshot correlation analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.trajectory">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trajectory</span></span><a class="headerlink" href="#mala.datageneration.trajectory_analyzer.TrajectoryAnalyzer.trajectory" title="Link to this definition"></a></dt>
<dd><p>Trajectory to be analyzed.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mala.datageneration.ofdft_initializer.html" class="btn btn-neutral float-left" title="ofdft_initializer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mala.datahandling.html" class="btn btn-neutral float-right" title="datahandling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS). Under the terms of Contract DE-NA0003525 with NTESS, the U.S. Government retains certain rights in this software. Attila Cangi, J. Austin Ellis, Lenz Fiedler, Daniel Kotik, Normand Modine, Sivasankaran Rajamanickam, Steve Schmerler, Aidan Thompson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>