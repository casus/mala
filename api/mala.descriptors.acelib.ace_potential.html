<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ace_potential &mdash; Materials Learning Algorithms (MALA)  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=33f2f6c7" />

  
    <link rel="shortcut icon" href="../_static/mala_favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="clebsch_gordan_coupling" href="mala.descriptors.acelib.clebsch_gordan_coupling.html" />
    <link rel="prev" title="acelib" href="mala.descriptors.acelib.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/mala_horizontal_white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_usage.html">Getting started with MALA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_usage.html">Advanced options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing MALA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTE.html">Contributions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mala.html">mala</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mala.common.html">common</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.datageneration.html">datageneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.datahandling.html">datahandling</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="mala.descriptors.html">descriptors</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="mala.descriptors.acelib.html">acelib</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.ace.html">ace</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.atomic_density.html">atomic_density</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.bispectrum.html">bispectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.descriptor.html">descriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.lammps_utils.html">lammps_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.descriptors.minterpy_descriptors.html">minterpy_descriptors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mala.interfaces.html">interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.network.html">network</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.targets.html">targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.version.html">version</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Materials Learning Algorithms (MALA)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">API reference</a></li>
          <li class="breadcrumb-item"><a href="mala.html">mala</a></li>
          <li class="breadcrumb-item"><a href="mala.descriptors.html">descriptors</a></li>
          <li class="breadcrumb-item"><a href="mala.descriptors.acelib.html">acelib</a></li>
      <li class="breadcrumb-item active">ace_potential</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com//mala-project/mala/blob/develop/docs/source/api/mala.descriptors.acelib.ace_potential.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mala.descriptors.acelib.ace_potential">
<span id="ace-potential"></span><h1>ace_potential<a class="headerlink" href="#module-mala.descriptors.acelib.ace_potential" title="Link to this heading"></a></h1>
<p>ACE potential class.</p>
<p>It writes a .yace file (ACE potential file) that is readable by LAMMPS. When only the
coupling coefficients are saved to the .yace file, this acts as a parameter
file with which one can evaluate ACE descriptors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mala.descriptors.acelib.ace_potential.ACEPotential">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ACEPotential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_energy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nradbase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmbda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">css</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcutinner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drcutinner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manual_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/descriptors/acelib/ace_potential.html#ACEPotential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.descriptors.acelib.ace_potential.ACEPotential" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to manage interface between ACE descriptor enumeration library and LAMMPS. By default, it will enumerate ACE descriptors according to the Permutation-adapted approach described in <a class="reference external" href="https://doi.org/10.1016/j.jcp.2024.113073">https://doi.org/10.1016/j.jcp.2024.113073</a>.</p>
<p>However, there are options for assigning descriptor labels if desired, manually for example.</p>
<p>After enumerating descriptors, it assigns all relevant hyperparamters needed to evaluate the ACE descriptors in LAMMPS. It saves a .yace file needed to evaluate ACE descriptors in LAMMPS (containing coupling coefficients). It does this by writing an ACE potential file, readable by LAMNMPS, that contains only information to evaluate descriptors, not energy models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>List</em>) – List of elements (symbols), including ‘G’ for the grid points. In ACE, all possible
combinations of these elements determine the “bond types” spanned by the ACE chemical
basis (the chemical basis is the delta function basis used in Drautz 2019). For
example, the “bond types” resulting from all possible combinations of [‘Al’,’G’] are
determined with <code class="code docutils literal notranslate"><span class="pre">itertools.product()</span></code> in python. They are (Al,Al)(Al,G)(G,Al)(G,G).
For mala, only those of type (G,X) are kept, (grid-atom interactions) and only a placeholder
is kept for other interaction types.</p></li>
<li><p><strong>reference_ens</strong> (<em>List</em>) – List of reference energies. (To be applied only for linear models) with a constant
shift to the energy per element type. Values other than 0 not be necessary in MALA.</p></li>
<li><p><strong>ranks</strong> (<em>List</em>) – Orders of the expansion, referred to as <cite>N</cite> in Drautz 2019, of the
descriptors to be enumerated</p></li>
<li><p><strong>nmax</strong> (<em>List</em>) – Maximum radial basis function index per descriptor rank</p></li>
<li><p><strong>lmax</strong> (<em>List</em>) – Maximum angular momentum number per descriptor rank (maximum angular function index)</p></li>
<li><p><strong>nradbase</strong> (<em>int</em>) – Maximum radial basis function index OVERALL: max(nmax) - in the future, may be used
to define the number of g_k(r) comprising R_nl from Drautz 2019 radial basis.</p></li>
<li><p><strong>rcut</strong> (<em>float/list</em>) – radial basis function cutoff per bond type. For example, if elements are [‘Al’,’G’]
then rcut must be supplied for each:(Al,Al)(Al,G)(G,Al)(G,G)</p></li>
<li><p><strong>lmbda</strong> (<em>float/list</em>) – Exponential factor for scaled distance in Drautz 2019 used in the radial basis
functions. As with the radial cutoff, lambda must be supplied per bond type. For
example, if elements are [‘Al’,’G’] then lambda must be supplied for
each:(Al,Al)(Al,G)(G,Al)(G,G)</p></li>
<li><p><strong>css</strong> (<em>dict</em>) – Dictionary of coupling coefficients of the format: {rank:{l:{m:coupling_coefficient}}</p></li>
<li><p><strong>rcutinner</strong> (<em>List</em>) – Inner cutoff to turn on soft-core repulsions. This parameter should be 0.0 (OFF) for
each bond type in MALA.</p></li>
<li><p><strong>drcutinner</strong> (<em>List</em>) – <dl class="simple">
<dt>Parameter for soft-core repulsions. This parameter should not matter if rcutinner is</dt><dd><p>0.0 (OFF) for each bond type in MALA.</p>
</dd>
</dl>
</p></li>
<li><p><strong>lmin</strong> (<em>int/list</em>) – Lower bound on angular momentum quantum number per rank.</p></li>
<li><p><strong>manual_labels</strong> (<em>str</em>) – File for loading labels. If not None, then labels will be loaded from
this json file. If None, then labels will be generated using the
pa_labels_raw function (default).</p></li>
<li><p><strong>**kwarg</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ACEPotential</strong> – Class containing ACE descriptor and hyperparamter info.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>class</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mala.descriptors.acelib.ace_potential.ACEPotential.set_funcs">
<span class="sig-name descname"><span class="pre">set_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nulst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_0s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/descriptors/acelib/ace_potential.html#ACEPotential.set_funcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.descriptors.acelib.ace_potential.ACEPotential.set_funcs" title="Link to this definition"></a></dt>
<dd><p>Set ctilde ‘functions’ in the .yace file, used to calculate descriptors in lammps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nulst</strong> (<em>List</em>) – List of nus, a.k.a. ACE descriptor labels to write to
the .yace file.</p></li>
<li><p><strong>print_0s</strong> (<em>bool</em>) – Logical to include 0-valued descriptors, this should always
be True in MALA as 0-valued descriptors only arise after
training linear models with sparsifying solvers like LASSO</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.descriptors.acelib.ace_potential.ACEPotential.write_pot">
<span class="sig-name descname"><span class="pre">write_pot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/descriptors/acelib/ace_potential.html#ACEPotential.write_pot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.descriptors.acelib.ace_potential.ACEPotential.write_pot" title="Link to this definition"></a></dt>
<dd><p>Write coupling coefficients to file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name (without file ending) of the file to write to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>name</strong> – Filename of the written file (with file ending)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mala.descriptors.acelib.html" class="btn btn-neutral float-left" title="acelib" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mala.descriptors.acelib.clebsch_gordan_coupling.html" class="btn btn-neutral float-right" title="clebsch_gordan_coupling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS). Under the terms of Contract DE-NA0003525 with NTESS, the U.S. Government retains certain rights in this software. Attila Cangi, J. Austin Ellis, Lenz Fiedler, Daniel Kotik, Normand Modine, Sivasankaran Rajamanickam, Steve Schmerler, Aidan Thompson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>