<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dos &mdash; Materials Learning Algorithms (MALA)  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/mala_favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ldos" href="mala.targets.ldos.html" />
    <link rel="prev" title="density" href="mala.targets.density.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/mala_horizontal_white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mala.html">mala</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mala.common.html">common</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.datageneration.html">datageneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.datahandling.html">datahandling</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.descriptors.html">descriptors</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.interfaces.html">interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="mala.network.html">network</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="mala.targets.html">targets</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mala.targets.atomic_force.html">atomic_force</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.calculation_helpers.html">calculation_helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.cube_parser.html">cube_parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.density.html">density</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">dos</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.ldos.html">ldos</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.target.html">target</a></li>
<li class="toctree-l4"><a class="reference internal" href="mala.targets.xsf_parser.html">xsf_parser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mala.version.html">version</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTE.html">Contributing to MALA</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Materials Learning Algorithms (MALA)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">API reference</a> &raquo;</li>
          <li><a href="mala.html">mala</a> &raquo;</li>
          <li><a href="mala.targets.html">targets</a> &raquo;</li>
      <li>dos</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com//mala-project/mala/blob/develop/docs/source/api/mala.targets.dos.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-mala.targets.dos">
<span id="dos"></span><h1>dos<a class="headerlink" href="#module-mala.targets.dos" title="Permalink to this headline"></a></h1>
<p>DOS calculation class.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mala.targets.dos.DOS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DOS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><span class="pre">mala.common.parameters.Parameters</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="mala.targets.target.html#mala.targets.target.Target" title="mala.targets.target.Target"><code class="xref py py-class docutils literal notranslate"><span class="pre">mala.targets.target.Target</span></code></a></p>
<p>Postprocessing / parsing functions for the density of states (DOS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters used to create this TargetBase object.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.backconvert_units">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">backconvert_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_units</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.backconvert_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.backconvert_units" title="Permalink to this definition"></a></dt>
<dd><p>Convert the units of an array from MALA units into desired units.</p>
<p>MALA units for the DOS means 1/eV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.array</em>) – Data in 1/eV.</p></li>
<li><p><strong>out_units</strong> (<em>string</em>) – Desired units of output array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>converted_array</strong> – Data in out_units.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.convert_units">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1/eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.convert_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.convert_units" title="Permalink to this definition"></a></dt>
<dd><p>Convert the units of an array into the MALA units.</p>
<p>MALA units for the DOS means 1/eV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.array</em>) – Data for which the units should be converted.</p></li>
<li><p><strong>in_units</strong> (<em>string</em>) – <p>Units of array. Currently supported are:</p>
<blockquote>
<div><ul>
<li><p>1/eV (no conversion, MALA unit)</p></li>
<li><p>1/Ry</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>converted_array</strong> – Data in 1/eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.from_ldos_calculator">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_ldos_calculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ldos_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.from_ldos_calculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.from_ldos_calculator" title="Permalink to this definition"></a></dt>
<dd><p>Create a DOS object from an LDOS object.</p>
<p>If the LDOS object has data associated with it, this data will
be copied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ldos_object</strong> (<a class="reference internal" href="mala.targets.ldos.html#mala.targets.ldos.LDOS" title="mala.targets.ldos.LDOS"><em>mala.targets.ldos.LDOS</em></a>) – LDOS object used as input.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dos_object</strong> – DOS object created from LDOS object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mala.targets.dos.DOS" title="mala.targets.dos.DOS">mala.targets.dos.DOS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.from_numpy_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_numpy_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1/eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.from_numpy_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.from_numpy_array" title="Permalink to this definition"></a></dt>
<dd><p>Create an DOS calculator from a numpy array in memory.</p>
<p>By using this function rather then setting the local_density_of_states
object directly, proper</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters used to create this DOS object.</p></li>
<li><p><strong>array</strong> (<em>numpy.ndarray</em>) – Path to file that is being read.</p></li>
<li><p><strong>units</strong> (<em>string</em>) – Units the DOS is saved in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dos_calculator</strong> – DOS calculator object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mala.targets.dos.DOS" title="mala.targets.dos.DOS">mala.targets.dos.DOS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.from_numpy_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_numpy_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1/eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.from_numpy_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.from_numpy_file" title="Permalink to this definition"></a></dt>
<dd><p>Create an DOS calculator from a numpy array saved in a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters used to create this DOS object.</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path to file that is being read.</p></li>
<li><p><strong>units</strong> (<em>string</em>) – Units the DOS is saved in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dos_calculator</strong> – DOS calculator object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mala.targets.dos.DOS" title="mala.targets.dos.DOS">mala.targets.dos.DOS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.from_qe_dos_txt">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_qe_dos_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.from_qe_dos_txt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.from_qe_dos_txt" title="Permalink to this definition"></a></dt>
<dd><p>Create a DOS calculator from a Quantum Espresso generated file.</p>
<p>These files do not have a specified file ending, so I will call them
qe.dos.txt here. QE saves the DOS in 1/eV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters used to create this DOS object.</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path of the file containing the DOS.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dos_calculator</strong> – DOS calculator object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mala.targets.dos.DOS" title="mala.targets.dos.DOS">mala.targets.dos.DOS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.from_qe_out">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_qe_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.from_qe_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.from_qe_out" title="Permalink to this definition"></a></dt>
<dd><p>Create a DOS calculator from a Quantum Espresso output file.</p>
<p>This will only work if the QE calculation has been performed with
very verbose output and contains the bands at all k-points.
As much information will be read from the QE output files as possible.
There is no need to call read_additional_calculation_data afterwards.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference internal" href="mala.common.parameters.html#mala.common.parameters.Parameters" title="mala.common.parameters.Parameters"><em>mala.common.parameters.Parameters</em></a>) – Parameters used to create this DOS object.</p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path of the file containing the DOS.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dos_calculator</strong> – DOS calculator object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mala.targets.dos.DOS" title="mala.targets.dos.DOS">mala.targets.dos.DOS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_band_energy">
<span class="sig-name descname"><span class="pre">get_band_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dos_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'analytical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broadcast_band_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_band_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_band_energy" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the band energy from given DOS data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_data</strong> (<em>numpy.array</em>) – DOS data with dimension [energygrid]. If None, then the cached
DOS will be used for the calculation.</p></li>
<li><p><strong>fermi_energy</strong> (<em>float</em>) – Fermi energy level in eV.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – Temperature in K.</p></li>
<li><p><strong>integration_method</strong> (<em>string</em>) – <p>Integration method to be used. Currently supported:</p>
<blockquote>
<div><ul>
<li><p>”trapz” for trapezoid method</p></li>
<li><p>”simps” for Simpson method.</p></li>
<li><p>”analytical” for analytical integration. Recommended.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>broadcast_band_energy</strong> (<em>bool</em>) – If True then the band energy will only be calculated on one
rank and thereafter be distributed to all other ranks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>band_energy</strong> – Band energy in eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_density_of_states">
<span class="sig-name descname"><span class="pre">get_density_of_states</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dos_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_density_of_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_density_of_states" title="Permalink to this definition"></a></dt>
<dd><p>Get the density of states.</p>
<p>This function currently doesn’t do much. In the LDOS and
density equivalents of it, certain dimensionality reorderings
may happen, this function purely exists for consistency
reasons. In the future, that may change.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_energy_grid">
<span class="sig-name descname"><span class="pre">get_energy_grid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_energy_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_energy_grid" title="Permalink to this definition"></a></dt>
<dd><p>Get energy grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>e_grid</strong> – Energy grid on which the DOS is defined.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_entropy_contribution">
<span class="sig-name descname"><span class="pre">get_entropy_contribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dos_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'analytical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broadcast_entropy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_entropy_contribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_entropy_contribution" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the entropy contribution to the total energy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_data</strong> (<em>numpy.array</em>) – DOS data with dimension [energygrid]. If None, then the cached
DOS will be used for the calculation.</p></li>
<li><p><strong>fermi_energy</strong> (<em>float</em>) – Fermi energy level in eV.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – Temperature in K.</p></li>
<li><p><strong>integration_method</strong> (<em>string</em>) – <p>Integration method to be used. Currently supported:</p>
<blockquote>
<div><ul>
<li><p>”trapz” for trapezoid method</p></li>
<li><p>”simps” for Simpson method.</p></li>
<li><p>”analytical” for analytical integration. Recommended.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>broadcast_entropy</strong> (<em>bool</em>) – If True then the entropy will only be calculated on one
rank and thereafter be distributed to all other ranks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>entropy_contribution</strong> – S/beta in eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_number_of_electrons">
<span class="sig-name descname"><span class="pre">get_number_of_electrons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dos_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'analytical'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_number_of_electrons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_number_of_electrons" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the number of electrons from given DOS data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_data</strong> (<em>numpy.array</em>) – DOS data with dimension [energygrid]. If None, then the cached
DOS will be used for the calculation.</p></li>
<li><p><strong>fermi_energy</strong> (<em>float</em>) – Fermi energy level in eV.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – Temperature in K.</p></li>
<li><p><strong>integration_method</strong> (<em>string</em>) – <p>Integration method to be used. Currently supported:</p>
<blockquote>
<div><ul>
<li><p>”trapz” for trapezoid method</p></li>
<li><p>”simps” for Simpson method.</p></li>
<li><p>”analytical” for analytical integration. Recommended.</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>number_of_electrons</strong> – Number of electrons.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_self_consistent_fermi_energy">
<span class="sig-name descname"><span class="pre">get_self_consistent_fermi_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dos_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'analytical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broadcast_fermi_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_self_consistent_fermi_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_self_consistent_fermi_energy" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the self-consistent Fermi energy.</p>
<p>“Self-consistent” does not mean self-consistent in the DFT sense,
but rather the Fermi energy, for which DOS integration reproduces
the exact number of electrons. The term “self-consistent” stems
from how this quantity is calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dos_data</strong> (<em>numpy.array</em>) – DOS data with dimension [energygrid]. If None, then the cached
DOS will be used for the calculation.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – Temperature in K.</p></li>
<li><p><strong>integration_method</strong> (<em>string</em>) – <p>Integration method to be used. Currently supported:</p>
<blockquote>
<div><ul>
<li><p>”trapz” for trapezoid method</p></li>
<li><p>”simps” for Simpson method.</p></li>
<li><p>”analytical” for analytical integration. Recommended.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>broadcast_fermi_energy</strong> (<em>bool</em>) – If True then the Fermi energy will only be calculated on one
rank and thereafter be distributed to all other ranks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fermi_energy_self_consistent</strong> – <span class="math notranslate nohighlight">\(\epsilon_F\)</span> in eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.get_target">
<span class="sig-name descname"><span class="pre">get_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.get_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.get_target" title="Permalink to this definition"></a></dt>
<dd><p>Get the target quantity.</p>
<p>This is the generic interface for cached target quantities.
It should work for all implemented targets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.invalidate_target">
<span class="sig-name descname"><span class="pre">invalidate_target</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.invalidate_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.invalidate_target" title="Permalink to this definition"></a></dt>
<dd><p>Invalidates the saved target wuantity.</p>
<p>This is the generic interface for cached target quantities.
It should work for all implemented targets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.read_from_array">
<span class="sig-name descname"><span class="pre">read_from_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1/eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.read_from_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.read_from_array" title="Permalink to this definition"></a></dt>
<dd><p>Read the density data from a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.ndarray</em>) – Numpy array containing the DOS.</p></li>
<li><p><strong>units</strong> (<em>string</em>) – Units the density is saved in. Usually none.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.read_from_qe_dos_txt">
<span class="sig-name descname"><span class="pre">read_from_qe_dos_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.read_from_qe_dos_txt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.read_from_qe_dos_txt" title="Permalink to this definition"></a></dt>
<dd><p>Read the DOS from a Quantum Espresso generated file.</p>
<p>These files do not have a specified file ending, so I will call them
qe.dos.txt here. QE saves the DOS in 1/eV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>string</em>) – Path of the file containing the DOS.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DOS data in 1/eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dos_data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.read_from_qe_out">
<span class="sig-name descname"><span class="pre">read_from_qe_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.read_from_qe_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.read_from_qe_out" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the DOS from a Quantum Espresso DFT output file.</p>
<p>The DOS will be read calculated via the eigenvalues and the equation</p>
<div class="math notranslate nohighlight">
\[D(E) = \sum_i \sum_k w_k \delta(\epsilon-\epsilon_{ik})\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – Path to the QE out file. If None, the QE output that was loaded
via read_additional_calculation_data will be used.</p></li>
<li><p><strong>smearing_factor</strong> (<em>int</em>) – Smearing factor relative to the energy grid spacing. Default is 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DOS data in 1/eV.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dos_data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.uncache_properties">
<span class="sig-name descname"><span class="pre">uncache_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mala/targets/dos.html#DOS.uncache_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mala.targets.dos.DOS.uncache_properties" title="Permalink to this definition"></a></dt>
<dd><p>Uncache all cached properties of this calculator.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.band_energy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">band_energy</span></span><a class="headerlink" href="#mala.targets.dos.DOS.band_energy" title="Permalink to this definition"></a></dt>
<dd><p>Band energy of the system, calculated via cached DOS.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.data_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_name</span></span><a class="headerlink" href="#mala.targets.dos.DOS.data_name" title="Permalink to this definition"></a></dt>
<dd><p>Get a string that describes the target (for e.g. metadata).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.density_of_states">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">density_of_states</span></span><a class="headerlink" href="#mala.targets.dos.DOS.density_of_states" title="Permalink to this definition"></a></dt>
<dd><p>Density of states as array.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.energy_grid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_grid</span></span><a class="headerlink" href="#mala.targets.dos.DOS.energy_grid" title="Permalink to this definition"></a></dt>
<dd><p>Energy grid on which the DOS is expressed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.entropy_contribution">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entropy_contribution</span></span><a class="headerlink" href="#mala.targets.dos.DOS.entropy_contribution" title="Permalink to this definition"></a></dt>
<dd><p>Entropy contribution to the energy calculated via cached DOS.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.feature_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feature_size</span></span><a class="headerlink" href="#mala.targets.dos.DOS.feature_size" title="Permalink to this definition"></a></dt>
<dd><p>Get dimension of this target if used as feature in ML.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.fermi_energy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fermi_energy</span></span><a class="headerlink" href="#mala.targets.dos.DOS.fermi_energy" title="Permalink to this definition"></a></dt>
<dd><p>“Self-consistent” Fermi energy of the system.</p>
<p>“Self-consistent” does not mean self-consistent in the DFT sense,
but rather the Fermi energy, for which DOS integration reproduces
the exact number of electrons. The term “self-consistent” stems
from how this quantity is calculated. Calculated via cached DOS.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.number_of_electrons">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_electrons</span></span><a class="headerlink" href="#mala.targets.dos.DOS.number_of_electrons" title="Permalink to this definition"></a></dt>
<dd><p>Number of electrons in the system, calculated via cached DOS.</p>
<p>Does not necessarily match up exactly with KS-DFT provided values,
due to discretization errors.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.si_dimension">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">si_dimension</span></span><a class="headerlink" href="#mala.targets.dos.DOS.si_dimension" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary containing the SI unit dimensions in OpenPMD format.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mala.targets.dos.DOS.si_unit_conversion">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">si_unit_conversion</span></span><a class="headerlink" href="#mala.targets.dos.DOS.si_unit_conversion" title="Permalink to this definition"></a></dt>
<dd><p>Numeric value of the conversion from MALA (ASE) units to SI.</p>
<p>Needed for OpenPMD interface.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mala.targets.density.html" class="btn btn-neutral float-left" title="density" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mala.targets.ldos.html" class="btn btn-neutral float-right" title="ldos" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS). Under the terms of Contract DE-NA0003525 with NTESS, the U.S. Government retains certain rights in this software. Attila Cangi, J. Austin Ellis, Lenz Fiedler, Daniel Kotik, Normand Modine, Sivasankaran Rajamanickam, Steve Schmerler, Aidan Thompson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>